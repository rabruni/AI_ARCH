{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "/init Command - Decomposition & LLM Instruction Coverage",
  "description": "Captures all steps in /init boot sequence and validates that instructions exist for each step",
  "type": "object",
  "properties": {
    "commandName": {
      "type": "string",
      "const": "/init",
      "description": "The command being decomposed"
    },
    "purpose": {
      "type": "string",
      "description": "What /init does: Bootstrap The Assist system with full state verification and auto-checkpointing"
    },
    "initSequence": {
      "type": "array",
      "description": "Ordered list of steps /init performs",
      "items": {
        "type": "object",
        "properties": {
          "step_number": {
            "type": "integer",
            "description": "Execution order"
          },
          "step_name": {
            "type": "string",
            "description": "Name of the step"
          },
          "description": {
            "type": "string",
            "description": "What this step does"
          },
          "reference_file": {
            "type": "string",
            "description": "File that defines this step"
          },
          "sub_actions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Detailed actions within this step"
          },
          "llmInstructionFound": {
            "type": "boolean",
            "description": "Does an instruction file exist that tells an LLM how to do this?"
          },
          "instructionFile": {
            "type": "string",
            "description": "Path to instruction file for this step"
          },
          "instructionContent": {
            "type": "string",
            "description": "Summary of what the instruction tells the LLM to do"
          },
          "gap": {
            "type": "string",
            "description": "If instruction is missing or incomplete, what's the gap?"
          },
          "recommendation": {
            "type": "string",
            "description": "What instruction should be created/improved"
          }
        },
        "required": ["step_number", "step_name", "description", "llmInstructionFound"]
      }
    },
    "instructionCoverage": {
      "type": "object",
      "properties": {
        "total_steps": {
          "type": "integer"
        },
        "covered_steps": {
          "type": "integer"
        },
        "coverage_percentage": {
          "type": "number"
        },
        "uncovered_steps": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "autoChaining": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Is auto-chaining activated?"
        },
        "trigger": {
          "type": "string",
          "description": "What triggers auto-chain"
        },
        "log_file": {
          "type": "string",
          "description": "Where auto-chain results are logged"
        },
        "llmInstructionFound": {
          "type": "boolean",
          "description": "Does the system have instructions for managing auto-chains?"
        }
      }
    },
    "outputArtifacts": {
      "type": "array",
      "description": "Files created/modified by /init",
      "items": {
        "type": "object",
        "properties": {
          "artifact": {
            "type": "string"
          },
          "purpose": {
            "type": "string"
          },
          "llmInstructionForCreation": {
            "type": "boolean"
          }
        }
      }
    }
  }
}
